{% extends "base.html" %}

{% block title %}Import Contacts - SendBaba{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto px-4 py-8">
    <!-- Header -->
    <div class="mb-8">
        <a href="{{ url_for('contact.index') }}" class="text-purple-600 hover:text-purple-700 mb-4 inline-block font-medium">
            <i class="fas fa-arrow-left mr-2"></i>Back to Contacts
        </a>
        <h1 class="text-4xl font-bold text-gray-800 mb-2">Import Contacts</h1>
        <p class="text-gray-600 text-lg">Upload CSV files to import multiple contacts at once (up to 100MB)</p>
    </div>

    <!-- Progress Steps -->
    <div class="mb-8">
        <div class="flex items-center justify-between max-w-3xl mx-auto">
            <div class="flex items-center flex-1">
                <div class="w-10 h-10 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold step-indicator active" id="step1Indicator">1</div>
                <div class="flex-1 h-1 bg-gray-200 mx-2">
                    <div class="h-1 bg-purple-600 transition-all duration-500" id="progress1" style="width: 0%"></div>
                </div>
            </div>
            <div class="flex items-center flex-1">
                <div class="w-10 h-10 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center font-bold step-indicator" id="step2Indicator">2</div>
                <div class="flex-1 h-1 bg-gray-200 mx-2">
                    <div class="h-1 bg-purple-600 transition-all duration-500" id="progress2" style="width: 0%"></div>
                </div>
            </div>
            <div class="w-10 h-10 bg-gray-200 text-gray-600 rounded-full flex items-center justify-center font-bold step-indicator" id="step3Indicator">3</div>
        </div>
        <div class="flex items-center justify-between max-w-3xl mx-auto mt-2 text-sm">
            <span class="font-medium text-purple-600">Upload File</span>
            <span class="text-gray-500">Map Fields</span>
            <span class="text-gray-500">Import</span>
        </div>
    </div>

    <!-- Notification Area -->
    <div id="notificationArea"></div>

    <!-- Step 1: Upload File -->
    <div id="step1" class="bg-white rounded-2xl shadow-lg p-8 mb-6">
        <div class="flex items-center mb-6">
            <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mr-4">
                <i class="fas fa-upload text-purple-600 text-xl"></i>
            </div>
            <div>
                <h2 class="text-2xl font-bold text-gray-800">Step 1: Upload Your File</h2>
                <p class="text-gray-600">Supports CSV files - Max 100MB</p>
            </div>
        </div>
        
        <div class="border-3 border-dashed border-gray-300 rounded-xl p-12 text-center hover:border-purple-400 transition-all cursor-pointer bg-gray-50 hover:bg-purple-50" id="dropZone">
            <input type="file" id="fileInput" accept=".csv" class="hidden" onchange="handleFileSelect(event)">
            <label for="fileInput" class="cursor-pointer block">
                <div class="text-7xl mb-4">ðŸ“¤</div>
                <p class="text-xl font-semibold text-gray-700 mb-2">Drop your CSV file here or click to browse</p>
                <p class="text-gray-500">CSV files up to 100MB</p>
            </label>
        </div>
        
        <div id="fileInfo" class="hidden mt-6 p-6 bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl border border-purple-200">
            <div class="flex items-center justify-between mb-4">
                <div class="flex items-center">
                    <i class="fas fa-file-csv text-green-600 text-3xl mr-4"></i>
                    <div>
                        <p class="font-bold text-gray-900 text-lg" id="fileName"></p>
                        <p class="text-sm text-gray-600" id="fileSize"></p>
                    </div>
                </div>
                <button onclick="removeFile()" class="text-red-600 hover:text-red-800 hover:bg-red-50 p-2 rounded-lg transition">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <!-- Parsing Progress -->
            <div id="parsingProgress" class="hidden mb-4">
                <div class="flex items-center justify-between mb-2">
                    <span class="text-sm font-medium text-gray-700">Parsing file...</span>
                    <span class="text-sm font-medium text-purple-600" id="parsePercent">0%</span>
                </div>
                <div class="bg-gray-200 rounded-full h-3 overflow-hidden">
                    <div id="parseProgressBar" class="bg-gradient-to-r from-purple-500 to-blue-500 h-3 rounded-full transition-all duration-300 flex items-center justify-center" style="width: 0%">
                        <div class="w-full h-full bg-white opacity-30 animate-pulse"></div>
                    </div>
                </div>
            </div>
            
            <button onclick="parseFile()" id="parseBtn" class="w-full bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700 transition font-semibold text-lg shadow-lg">
                <i class="fas fa-arrow-right mr-2"></i>Next: Map Fields
            </button>
        </div>
    </div>

    <!-- Step 2: Map Fields -->
    <div id="step2" class="hidden bg-white rounded-2xl shadow-lg p-8 mb-6">
        <div class="flex items-center mb-6">
            <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mr-4">
                <i class="fas fa-columns text-purple-600 text-xl"></i>
            </div>
            <div>
                <h2 class="text-2xl font-bold text-gray-800">Step 2: Map Your Fields</h2>
                <p class="text-gray-600">Match your file columns to SendBaba fields</p>
            </div>
        </div>
        
        <div class="mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg">
            <div class="flex items-center">
                <i class="fas fa-info-circle text-blue-600 mr-3 text-xl"></i>
                <div>
                    <p class="font-semibold text-blue-900">
                        <span id="totalRows">0</span> rows detected in your file
                    </p>
                    <p class="text-sm text-blue-700">Preview of first 5 rows shown below</p>
                </div>
            </div>
        </div>

        <!-- Preview Table -->
        <div class="mb-8 overflow-x-auto bg-gray-50 rounded-xl p-4">
            <h3 class="font-bold text-gray-800 mb-3">Data Preview</h3>
            <table class="min-w-full border border-gray-300 rounded-lg overflow-hidden" id="previewTable">
                <thead class="bg-gray-100">
                    <tr id="headerRow"></tr>
                </thead>
                <tbody id="previewBody" class="bg-white"></tbody>
            </table>
        </div>

        <!-- Field Mapping -->
        <div class="bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl p-6 mb-6">
            <h3 class="font-bold text-gray-800 mb-4 text-lg">Field Mapping</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label class="block font-semibold mb-2 text-gray-700">
                        <i class="fas fa-envelope text-red-500 mr-2"></i>Email Column *
                    </label>
                    <select name="email_column" id="emailColumn" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        <option value="">-- Select Column --</option>
                    </select>
                    <p class="text-xs text-gray-500 mt-1">Required field</p>
                </div>

                <div>
                    <label class="block font-semibold mb-2 text-gray-700">
                        <i class="fas fa-user text-purple-500 mr-2"></i>First Name Column
                    </label>
                    <select name="first_name_column" id="firstNameColumn" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        <option value="">-- Select Column --</option>
                    </select>
                </div>

                <div>
                    <label class="block font-semibold mb-2 text-gray-700">
                        <i class="fas fa-user text-purple-500 mr-2"></i>Last Name Column
                    </label>
                    <select name="last_name_column" id="lastNameColumn" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        <option value="">-- Select Column --</option>
                    </select>
                </div>

                <div>
                    <label class="block font-semibold mb-2 text-gray-700">
                        <i class="fas fa-building text-blue-500 mr-2"></i>Company Column
                    </label>
                    <select name="company_column" id="companyColumn" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        <option value="">-- Select Column --</option>
                    </select>
                </div>

                <div>
                    <label class="block font-semibold mb-2 text-gray-700">
                        <i class="fas fa-phone text-green-500 mr-2"></i>Phone Column
                    </label>
                    <select name="phone_column" id="phoneColumn" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        <option value="">-- Select Column --</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="flex gap-4">
            <button onclick="backToStep1()" class="px-6 py-3 border-2 border-gray-300 rounded-lg hover:bg-gray-50 transition font-semibold">
                <i class="fas fa-arrow-left mr-2"></i>Back
            </button>
            <button onclick="goToStep3()" class="flex-1 bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition font-semibold text-lg shadow-lg">
                Next: Review & Import<i class="fas fa-arrow-right ml-2"></i>
            </button>
        </div>
    </div>

    <!-- Step 3: Import Options & Execute -->
    <div id="step3" class="hidden bg-white rounded-2xl shadow-lg p-8">
        <div class="flex items-center mb-6">
            <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mr-4">
                <i class="fas fa-cog text-purple-600 text-xl"></i>
            </div>
            <div>
                <h2 class="text-2xl font-bold text-gray-800">Step 3: Import Options</h2>
                <p class="text-gray-600">Configure import settings and start the import</p>
            </div>
        </div>
        
        <div class="bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl p-6 mb-6">
            <h3 class="font-bold text-gray-800 mb-4">Import Options</h3>
            <div class="space-y-4">
                <label class="flex items-center p-4 bg-white rounded-lg border border-gray-200 hover:border-purple-300 transition cursor-pointer">
                    <input type="checkbox" id="skipDuplicates" checked class="mr-3 w-5 h-5 text-purple-600 rounded focus:ring-purple-500">
                    <div>
                        <p class="font-semibold text-gray-800">Skip duplicate emails</p>
                        <p class="text-sm text-gray-600">Don't import contacts that already exist in your database</p>
                    </div>
                </label>

                <label class="flex items-center p-4 bg-white rounded-lg border border-gray-200 hover:border-purple-300 transition cursor-pointer">
                    <input type="checkbox" id="validateEmails" checked class="mr-3 w-5 h-5 text-purple-600 rounded focus:ring-purple-500">
                    <div>
                        <p class="font-semibold text-gray-800">Validate email format</p>
                        <p class="text-sm text-gray-600">Only import contacts with valid email addresses</p>
                    </div>
                </label>
            </div>
        </div>

        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
            <div class="flex items-start">
                <i class="fas fa-info-circle text-blue-600 mr-3 mt-1"></i>
                <div class="text-sm text-blue-800">
                    <p class="font-semibold mb-1">Ready to import <span id="importRowCount">0</span> contacts</p>
                    <p>Your contacts will be imported now. This may take a few moments for large files.</p>
                </div>
            </div>
        </div>

        <!-- Import Progress -->
        <div id="importProgress" class="hidden mb-6">
            <div class="bg-white border-2 border-purple-200 rounded-xl p-6">
                <div class="flex items-center justify-between mb-3">
                    <span class="text-lg font-bold text-gray-800">
                        <i class="fas fa-cloud-upload-alt text-purple-600 mr-2"></i>Importing Contacts
                    </span>
                    <span class="text-2xl font-bold text-purple-600" id="importPercent">0%</span>
                </div>
                
                <div class="bg-gray-200 rounded-full h-6 overflow-hidden mb-3">
                    <div id="importProgressBar" class="bg-gradient-to-r from-purple-600 to-blue-600 h-6 rounded-full transition-all duration-500 relative overflow-hidden" style="width: 0%">
                        <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-30 animate-shimmer"></div>
                    </div>
                </div>
                
                <div class="flex items-center justify-between text-sm">
                    <span class="text-gray-600" id="importStatus">Processing...</span>
                    <span class="text-gray-700 font-medium">
                        <span id="importedCount">0</span> / <span id="totalCount">0</span> contacts
                    </span>
                </div>
            </div>
        </div>

        <div class="flex gap-4">
            <button onclick="backToStep2()" id="backBtn" class="px-6 py-3 border-2 border-gray-300 rounded-lg hover:bg-gray-50 transition font-semibold">
                <i class="fas fa-arrow-left mr-2"></i>Back
            </button>
            <button onclick="startImport()" id="importBtn" class="flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-lg hover:from-purple-700 hover:to-blue-700 transition font-semibold text-lg shadow-lg">
                <i class="fas fa-cloud-upload-alt mr-2"></i>Start Import
            </button>
        </div>
    </div>
</div>

<script>
let uploadedFile = null;
let parsedData = null;

// Step navigation
function showStep(stepNum) {
    document.getElementById('step1').classList.add('hidden');
    document.getElementById('step2').classList.add('hidden');
    document.getElementById('step3').classList.add('hidden');
    document.getElementById(`step${stepNum}`).classList.remove('hidden');
    
    // Update indicators
    for (let i = 1; i <= 3; i++) {
        const indicator = document.getElementById(`step${i}Indicator`);
        if (i < stepNum) {
            indicator.classList.remove('bg-gray-200', 'text-gray-600');
            indicator.classList.add('bg-green-500', 'text-white');
            indicator.innerHTML = '<i class="fas fa-check"></i>';
        } else if (i === stepNum) {
            indicator.classList.remove('bg-gray-200', 'text-gray-600', 'bg-green-500');
            indicator.classList.add('bg-purple-600', 'text-white');
            indicator.textContent = i;
        } else {
            indicator.classList.remove('bg-purple-600', 'bg-green-500', 'text-white');
            indicator.classList.add('bg-gray-200', 'text-gray-600');
            indicator.textContent = i;
        }
    }
    
    // Update progress bars
    document.getElementById('progress1').style.width = stepNum >= 2 ? '100%' : '0%';
    document.getElementById('progress2').style.width = stepNum >= 3 ? '100%' : '0%';
}

function backToStep1() { showStep(1); }
function backToStep2() { showStep(2); }
function goToStep3() {
    const emailCol = document.getElementById('emailColumn').value;
    if (!emailCol) {
        showNotification('error', 'Please select the email column');
        return;
    }
    document.getElementById('importRowCount').textContent = parsedData.total_rows;
    document.getElementById('totalCount').textContent = parsedData.total_rows;
    showStep(3);
}

// File handling
function handleFileSelect(event) {
    const file = event.target.files[0];
    if (!file) return;
    
    uploadedFile = file;
    
    document.getElementById('fileName').textContent = file.name;
    document.getElementById('fileSize').textContent = formatFileSize(file.size);
    document.getElementById('fileInfo').classList.remove('hidden');
    document.getElementById('dropZone').classList.add('hidden');
}

function removeFile() {
    uploadedFile = null;
    document.getElementById('fileInput').value = '';
    document.getElementById('fileInfo').classList.add('hidden');
    document.getElementById('dropZone').classList.remove('hidden');
}

function formatFileSize(bytes) {
    if (bytes < 1024) return bytes + ' B';
    if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';
    return (bytes / (1024 * 1024)).toFixed(1) + ' MB';
}

// Parse file with progress
async function parseFile() {
    if (!uploadedFile) {
        showNotification('error', 'Please select a file first');
        return;
    }
    
    // Show progress
    document.getElementById('parsingProgress').classList.remove('hidden');
    document.getElementById('parseBtn').disabled = true;
    document.getElementById('parseBtn').classList.add('opacity-50');
    
    // Simulate progress
    let progress = 0;
    const progressInterval = setInterval(() => {
        progress += Math.random() * 15;
        if (progress > 90) progress = 90;
        document.getElementById('parseProgressBar').style.width = progress + '%';
        document.getElementById('parsePercent').textContent = Math.round(progress) + '%';
    }, 100);
    
    const formData = new FormData();
    formData.append('file', uploadedFile);
    
    try {
        const response = await fetch('/dashboard/contacts/api/parse', {
            method: 'POST',
            body: formData
        });
        
        const data = await response.json();
        
        clearInterval(progressInterval);
        document.getElementById('parseProgressBar').style.width = '100%';
        document.getElementById('parsePercent').textContent = '100%';
        
        if (!data.success) {
            showNotification('error', data.error || 'Failed to parse file');
            document.getElementById('parseBtn').disabled = false;
            document.getElementById('parseBtn').classList.remove('opacity-50');
            return;
        }
        
        parsedData = data;
        
        // Populate dropdowns
        const selects = ['emailColumn', 'firstNameColumn', 'lastNameColumn', 'companyColumn', 'phoneColumn'];
        selects.forEach(selectId => {
            const select = document.getElementById(selectId);
            select.innerHTML = '<option value="">-- Select Column --</option>';
            data.headers.forEach(header => {
                select.innerHTML += `<option value="${header}">${header}</option>`;
            });
        });
        
        // Auto-select suggested columns
        if (data.suggestions.email) document.getElementById('emailColumn').value = data.suggestions.email;
        if (data.suggestions.first_name) document.getElementById('firstNameColumn').value = data.suggestions.first_name;
        if (data.suggestions.last_name) document.getElementById('lastNameColumn').value = data.suggestions.last_name;
        if (data.suggestions.company) document.getElementById('companyColumn').value = data.suggestions.company;
        if (data.suggestions.phone) document.getElementById('phoneColumn').value = data.suggestions.phone;
        
        // Show preview
        displayPreview(data);
        
        document.getElementById('totalRows').textContent = data.total_rows;
        
        showNotification('success', `File parsed successfully! ${data.total_rows} rows found.`);
        
        setTimeout(() => showStep(2), 500);
        
    } catch (error) {
        clearInterval(progressInterval);
        console.error('Parse error:', error);
        showNotification('error', 'Error parsing file: ' + error.message);
        document.getElementById('parseBtn').disabled = false;
        document.getElementById('parseBtn').classList.remove('opacity-50');
    }
}

function displayPreview(data) {
    const headerRow = document.getElementById('headerRow');
    const previewBody = document.getElementById('previewBody');
    
    headerRow.innerHTML = '';
    previewBody.innerHTML = '';
    
    data.headers.forEach(header => {
        headerRow.innerHTML += `<th class="px-4 py-2 bg-gray-100 border text-left font-semibold text-gray-700">${header}</th>`;
    });
    
    data.preview.forEach(row => {
        let rowHtml = '<tr class="hover:bg-gray-50">';
        data.headers.forEach(header => {
            rowHtml += `<td class="px-4 py-2 border text-sm text-gray-700">${row[header] || ''}</td>`;
        });
        rowHtml += '</tr>';
        previewBody.innerHTML += rowHtml;
    });
}

// Import with real-time progress
async function startImport() {
    const emailCol = document.getElementById('emailColumn').value;
    if (!emailCol) {
        showNotification('error', 'Email column is required');
        return;
    }
    
    const mapping = {
        email: emailCol,
        first_name: document.getElementById('firstNameColumn').value || null,
        last_name: document.getElementById('lastNameColumn').value || null,
        company: document.getElementById('companyColumn').value || null,
        phone: document.getElementById('phoneColumn').value || null
    };
    
    const options = {
        skip_duplicates: document.getElementById('skipDuplicates').checked,
        validate_emails: document.getElementById('validateEmails').checked
    };
    
    // Show progress
    document.getElementById('importProgress').classList.remove('hidden');
    document.getElementById('importBtn').disabled = true;
    document.getElementById('backBtn').disabled = true;
    document.getElementById('importBtn').classList.add('opacity-50');
    document.getElementById('importStatus').textContent = 'Uploading file...';
    
    // Animate progress
    let fakeProgress = 0;
    const progressInterval = setInterval(() => {
        fakeProgress += Math.random() * 5;
        if (fakeProgress > 95) fakeProgress = 95;
        document.getElementById('importProgressBar').style.width = fakeProgress + '%';
        document.getElementById('importPercent').textContent = Math.round(fakeProgress) + '%';
    }, 200);
    
    const formData = new FormData();
    formData.append('file', uploadedFile);
    formData.append('mapping', JSON.stringify(mapping));
    formData.append('options', JSON.stringify(options));
    
    try {
        document.getElementById('importStatus').textContent = 'Importing contacts...';
        
        const response = await fetch('/dashboard/contacts/api/import', {
            method: 'POST',
            body: formData
        });
        
        let data;
        const contentType = response.headers.get('content-type');
        
        if (contentType && contentType.includes('application/json')) {
            data = await response.json();
        } else {
            const text = await response.text();
            console.error('Non-JSON response:', text);
            throw new Error('Server returned invalid response format');
        }
        
        clearInterval(progressInterval);
        
        if (data.success) {
            // Complete animation
            document.getElementById('importProgressBar').style.width = '100%';
            document.getElementById('importPercent').textContent = '100%';
            document.getElementById('importedCount').textContent = data.imported;
            document.getElementById('importStatus').textContent = 'Import completed!';
            
            showNotification('success', data.message);
            
            setTimeout(() => {
                window.location.href = '/dashboard/contacts';
            }, 2000);
        } else {
            showNotification('error', data.error || 'Import failed');
            document.getElementById('importBtn').disabled = false;
            document.getElementById('backBtn').disabled = false;
            document.getElementById('importBtn').classList.remove('opacity-50');
            document.getElementById('importProgress').classList.add('hidden');
        }
        
    } catch (error) {
        clearInterval(progressInterval);
        console.error('Import error:', error);
        showNotification('error', 'Import failed: ' + error.message);
        document.getElementById('importBtn').disabled = false;
        document.getElementById('backBtn').disabled = false;
        document.getElementById('importBtn').classList.remove('opacity-50');
        document.getElementById('importProgress').classList.add('hidden');
    }
}


// Drag and drop
const dropZone = document.getElementById('dropZone');

dropZone.addEventListener('dragover', (e) => {
    e.preventDefault();
    dropZone.classList.add('border-purple-500', 'bg-purple-100');
});

dropZone.addEventListener('dragleave', () => {
    dropZone.classList.remove('border-purple-500', 'bg-purple-100');
});

dropZone.addEventListener('drop', (e) => {
    e.preventDefault();
    dropZone.classList.remove('border-purple-500', 'bg-purple-100');
    
    const file = e.dataTransfer.files[0];
    if (file) {
        document.getElementById('fileInput').files = e.dataTransfer.files;
        handleFileSelect({target: {files: [file]}});
    }
});

// Notifications
function showNotification(type, message) {
    const colors = {
        success: 'bg-green-50 border-green-500 text-green-800',
        error: 'bg-red-50 border-red-500 text-red-800',
        warning: 'bg-yellow-50 border-yellow-500 text-yellow-800',
        info: 'bg-blue-50 border-blue-500 text-blue-800'
    };
    
    const icons = {
        success: 'fa-check-circle',
        error: 'fa-exclamation-circle',
        warning: 'fa-exclamation-triangle',
        info: 'fa-info-circle'
    };
    
    const notification = document.createElement('div');
    notification.className = `fixed top-4 right-4 ${colors[type]} border-l-4 p-4 rounded-lg shadow-2xl z-50 max-w-md animate-slide-left`;
    notification.innerHTML = `
        <div class="flex items-center justify-between">
            <div class="flex items-center">
                <i class="fas ${icons[type]} mr-3 text-xl"></i>
                <p class="font-semibold">${message}</p>
            </div>
            <button onclick="this.parentElement.parentElement.remove()" class="ml-4 text-2xl hover:opacity-70 transition">&times;</button>
        </div>
    `;
    
    document.body.appendChild(notification);
    setTimeout(() => notification.remove(), 5000);
}
</script>

<style>
@keyframes slide-left {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}
@keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}
.animate-slide-left {
    animation: slide-left 0.3s ease-out;
}
.animate-shimmer {
    animation: shimmer 2s infinite;
}
.step-indicator.active {
    transform: scale(1.1);
}
</style>
{% endblock %}
