{% extends "base.html" %}
{% block title %}Create Campaign - SendBaba{% endblock %}
{% block content %}
<div class="p-6 max-w-2xl mx-auto">
    <div class="mb-8">
        <a href="/dashboard/campaigns" class="text-gray-500 hover:text-gray-700 mb-4 inline-flex items-center gap-2">
            <i class="fas fa-arrow-left"></i> Back to Campaigns
        </a>
        <h1 class="text-3xl font-bold text-gray-900 mt-4">Create New Campaign</h1>
        <p class="text-gray-600 mt-2">Give your campaign a name to get started</p>
    </div>

    <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-8">
        <form id="createForm" onsubmit="return createCampaign(event)">
            <div class="mb-6">
                <label class="block text-sm font-semibold text-gray-700 mb-2">Campaign Name *</label>
                <input type="text" id="campaignName" name="name" required
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"
                       placeholder="e.g., Summer Sale Newsletter">
            </div>
            
            <div class="flex gap-4">
                <button type="submit" id="submitBtn" class="flex-1 bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg font-bold transition flex items-center justify-center gap-2">
                    <i class="fas fa-arrow-right"></i> Continue to Templates
                </button>
            </div>
        </form>
    </div>
</div>

<script>
function createCampaign(e) {
    e.preventDefault();
    
    const name = document.getElementById('campaignName').value.trim();
    if (!name) {
        alert('Please enter a campaign name');
        return false;
    }
    
    const btn = document.getElementById('submitBtn');
    btn.disabled = true;
    btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating...';
    
    // Redirect to templates page with campaign name
    window.location.href = '/dashboard/campaigns/templates?name=' + encodeURIComponent(name);
    
    return false;
}
</script>
{% endblock %}
